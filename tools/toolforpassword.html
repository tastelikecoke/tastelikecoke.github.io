<html>
	<head>
		<script>
			var runTest;
		</script>
	</head>
	<body>
		<h1>Tool to assist speedrunning</h1>
		
		Rule 1:<br />
		<p>
		üò≠üò≠üò≠üò≠üò≠
		</p>
		Rule 13:
		<p>
			üåî
		</p>
		Rule 22:<br />
		<p>
			i am loved<br />
			i am worthy<br />
			i am enough<br />
		</p>
		Rule 23:<br />
		<p>
			üêõüêõüêõüêõüêõüêõ
		</p>
		Rule 27:<br />
		<p style="font-family: Wingdings; font-size: 4px">
			.............
		</p><br />
		<textarea id="text"></textarea><br />
		<textarea id="output"></textarea><br />
		<div style="border:2px solid black; display: inline-block; font-family: Monospace;" id="formatted"></div><br />
		<button onclick="runTest()">Compute</button>
		<script>

			runTest = function()
			{
				var elementMap = {
				"H": 1,
				"He": 2,
				"Li": 3,
				"Be": 4,
				"B": 5,
				"C": 6,
				"N": 7,
				"O": 8,
				"F": 9,
				"Ne": 10,
				"Na": 11,
				"Mg": 12,
				"Al": 13,
				"Si": 14,
				"P": 15,
				"S": 16,
				"Cl": 17,
				"Ar": 18,
				"K": 19,
				"Ca": 20,
				"Sc": 21,
				"Ti": 22,
				"V": 23,
				"Cr": 24,
				"Mn": 25,
				"Fe": 26,
				"Co": 27,
				"Ni": 28,
				"Cu": 29,
				"Zn": 30,
				"Ga": 31,
				"Ge": 32,
				"As": 33,
				"Se": 34,
				"Br": 35,
				"Kr": 36,
				"Rb": 37,
				"Sr": 38,
				"Y": 39,
				"Zr": 40,
				"Nb": 41,
				"Mo": 42,
				"Tc": 43,
				"Ru": 44,
				"Rh": 45,
				"Pd": 46,
				"Ag": 47,
				"Cd": 48,
				"In": 49,
				"Sn": 50,
				"Sb": 51,
				"Te": 52,
				"I": 53,
				"Xe": 54,
				"Cs": 55,
				"Ba": 56,
				"La": 57,
				"Ce": 58,
				"Pr": 59,
				"Nd": 60,
				"Pm": 61,
				"Sm": 62,
				"Eu": 63,
				"Gd": 64,
				"Tb": 65,
				"Dy": 66,
				"Ho": 67,
				"Er": 68,
				"Tm": 69,
				"Yb": 70,
				"Lu": 71,
				"Hf": 72,
				"Ta": 73,
				"W": 74,
				"Re": 75,
				"Os": 76,
				"Ir": 77,
				"Pt": 78,
				"Au": 79,
				"Hg": 80,
				"Tl": 81,
				"Pb": 82,
				"Bi": 83,
				"Po": 84,
				"At": 85,
				"Rn": 86,
				"Fr": 87,
				"Ra": 88,
				"Ac": 89,
				"Th": 90,
				"Pa": 91,
				"U": 92,
				"Np": 93,
				"Pu": 94,
				"Am": 95,
				"Cm": 96,
				"Bk": 97,
				"Cf": 98,
				"Es": 99,
				"Fm": 100,
				"Md": 101,
				"No": 102,
				"Lr": 103,
				"Rf": 104,
				"Db": 105,
				"Sg": 106,
				"Bh": 107,
				"Hs": 108,
				"Mt": 109,
				"Ds": 110,
				"Rg": 111,
				"Uub": 112,
				"Uut": 113,
				"Uuq": 114,
				"Uup": 115,
				"Uuh": 116,
				"Uus": 117,
				"Uuo": 118
			}
				var romanMap = {
					"I": 1,
					"II": 2,
					"III": 3,
					"IV": 4,
					"V": 5,
					"VI": 6,
					"VII": 7,
					"VIII": 8,
					"IX": 9,
					"X": 10,
				}

				var outputarea = document.getElementById("output");
				outputarea.value = "";

				var textarea = document.getElementById("text");
				var textvalue = textarea.value;

				var divarea = document.getElementById("formatted");
				var vowelRegex = /([aeiouyAEOIUY])/g;
				var replacedvalue = "üò≠üò≠" + textvalue + "üîöüîö";
				var resizedvalue = "";
				
				var currentsize = 20;
				for(var i = 0; i < replacedvalue.length; i++)
				{
					//var sizer = ["‚ù∂", "‚ûç", "‚ûí", "‚ù∂‚ûè", "‚ûã‚ûé", "‚ûå‚ûè", "‚ûç‚ûí", "‚ûè‚ûç", "‚ûë‚ù∂"]
					
					//var sizer = ["‚ûã‚ù∂", "‚ûã‚ûã", "‚ûã‚ù∂", "‚ûã‚ù∂", "‚ûã‚ûå", "‚ûã‚ûç", "‚ûã‚ûé", "‚ûã‚ûè", "‚ûã‚ùº", "‚ûã‚ûë", "‚ûã‚ûí", "‚ûå‚ìø", "‚ûå‚ù∂", "‚ûå‚ûã", "‚ûå‚ûå", "‚ûå‚ûç", "‚ûå‚ûé","‚ûå‚ûè", "‚ûå‚ùº", "‚ûå‚ûë", "‚ûå‚ûí", "‚ûç‚ìø","‚ûç‚ù∂", "‚ûç‚ûã", "‚ûç‚ûç", "‚ûç‚ûé","‚ûç‚ûè", "‚ûç‚ùº", "‚ûç‚ûë", "‚ûç‚ûí", "‚ûé‚ìø"]
					//const randomSize = sizer[Math.floor(Math.random() * sizer.length)];
					
					var stringsize = currentsize.toString();
					var stringsize = stringsize.replaceAll("0", "‚ìø");
					var stringsize = stringsize.replaceAll("1", "‚ù∂");
					var stringsize = stringsize.replaceAll("2", "‚ûã");
					var stringsize = stringsize.replaceAll("3", "‚ûå");
					var stringsize = stringsize.replaceAll("4", "‚ûç");
					var stringsize = stringsize.replaceAll("5", "‚ûé");
					var stringsize = stringsize.replaceAll("6", "‚ûè");
					var stringsize = stringsize.replaceAll("7", "‚ùº");
					var stringsize = stringsize.replaceAll("8", "‚ûë");
					var stringsize = stringsize.replaceAll("9", "‚ûí");
					
					if(replacedvalue[i].match(vowelRegex)){
						resizedvalue += "<strong>" + replacedvalue[i] + "</strong>";
						//resizedvalue += "<span style=\"font-family: Times New Roman; font-size: "+stringsize+"px\"><strong>" + replacedvalue[i] + "</strong></span>";
						currentsize += 1;
					}
					else{
						resizedvalue += replacedvalue[i];
					}
					/*
					else if(replacedvalue[i].match(vowelRegex)){
						resizedvalue += "<span style=\"font-family: Monospace; font-size: "+stringsize+"px\"><strong>" + replacedvalue[i] + "</strong></span>";
						currentsize += 1;
					}
					else if(replacedvalue[i].match(/[VXLCDM]/g)){
						resizedvalue += "<span style=\"font-family: Times New Roman; font-size: "+stringsize+"px\">" + replacedvalue[i] + "</span>";
						currentsize += 1;
					}
					else if(replacedvalue[i].match(/[a-zA-Z]/g)){
						resizedvalue += "<span style=\"font-size: "+stringsize+"px\">" + replacedvalue[i] + "</span>";
						currentsize += 1;
					}
					else{
						resizedvalue += replacedvalue[i];
						*/
					
				}
				var replacedvalue = resizedvalue;
				var replacedvalue = replacedvalue.replaceAll(/0/g, "<span style=\"font-family: Monospace; font-size: ‚ìøpx\">0</span>");
				var replacedvalue = replacedvalue.replaceAll(/1/g, "<span style=\"font-family: Monospace; font-size: ‚ù∂px\">1</span>");
				var replacedvalue = replacedvalue.replaceAll(/2/g, "<span style=\"font-family: Monospace; font-size: ‚ûçpx\">2</span>");
				var replacedvalue = replacedvalue.replaceAll(/3/g, "<span style=\"font-family: Monospace; font-size: ‚ûípx\">3</span>");
				var replacedvalue = replacedvalue.replaceAll(/4/g, "<span style=\"font-family: Monospace; font-size: ‚ù∂‚ûèpx\">4</span>");
				var replacedvalue = replacedvalue.replaceAll(/5/g, "<span style=\"font-family: Monospace; font-size: ‚ûã‚ûépx\">5</span>");
				var replacedvalue = replacedvalue.replaceAll(/6/g, "<span style=\"font-family: Monospace; font-size: ‚ûå‚ûèpx\">6</span>");
				var replacedvalue = replacedvalue.replaceAll(/7/g, "<span style=\"font-family: Monospace; font-size: ‚ûç‚ûípx\">7</span>");
				var replacedvalue = replacedvalue.replaceAll(/8/g, "<span style=\"font-family: Monospace; font-size: ‚ûè‚ûçpx\">8</span>");
				var replacedvalue = replacedvalue.replaceAll(/9/g, "<span style=\"font-family: Monospace; font-size: ‚ûë‚ù∂px\">9</span>");
				var replacedvalue = replacedvalue.replaceAll("‚ìø", "0");
				var replacedvalue = replacedvalue.replaceAll("‚ù∂", "1");
				var replacedvalue = replacedvalue.replaceAll("‚ûã", "2");
				var replacedvalue = replacedvalue.replaceAll("‚ûå", "3");
				var replacedvalue = replacedvalue.replaceAll("‚ûç", "4");
				var replacedvalue = replacedvalue.replaceAll("‚ûé", "5");
				var replacedvalue = replacedvalue.replaceAll("‚ûè", "6");
				var replacedvalue = replacedvalue.replaceAll("‚ùº", "7");
				var replacedvalue = replacedvalue.replaceAll("‚ûë", "8");
				var replacedvalue = replacedvalue.replaceAll("‚ûí", "9");
				formatted.innerHTML = replacedvalue;
				console.log(replacedvalue);

				var elementRegex = /Ac|Ag|Al|Am|Ar|As|At|Au|B|Ba|Be|Bh|Bi|Bk|Br|Ca|Cd|Ce|Cf|Cl|Cm|Cn|Co|Cr|Cs|Cu|C|Db|Ds|Dy|Er|Es|Eu|Fe|Fl|Fm|Fr|F|Ga|Gd|Ge|He|Hf|Hg|Ho|Hs|H|In|Ir|I|Kr|K|La|Li|Lr|Lu|Lv|Mc|Md|Mg|Mn|Mo|Mt|Na|Nb|Nd|Ne|Nh|Ni|No|Np|N|Og|Os|O|Pa|Pb|Pd|Pm|Po|Pr|Pt|P|Pu|Ra|Rb|Re|Rf|Rg|Rh|Rn|Ru|Sb|Sc|Se|Sg|Si|Sm|Sn|Sr|S|Ta|Tb|Tc|Te|Th|Ti|Tl|Tm|Ts|U|V|W|Xe|Yb|Y|Zn|Zr/g;
				var allMatches = textvalue.match(elementRegex);
				var total = 0;
				for(idx in allMatches)
				{
					total += elementMap[allMatches[idx]];
					outputarea.value += allMatches[idx] + "+";
				}
				outputarea.value += " = total atomic numbers:" + total.toString() + "\n";

				var numberRegex = /\d/g;
				var allMatches = textvalue.match(numberRegex);
				var total = 0;
				for(idx in allMatches)
				{
					total += parseInt(allMatches[idx]);
				}
				outputarea.value += "digit total:" + total.toString() + "\n";

				var romanRegex = /(M{0,4})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})/g;
				var allMatches = textvalue.matchAll(romanRegex);
				var total = 1;
				for(match of allMatches)
				{
					var romantotal = 0;
					if(match[0].length > 0)
					{
						if(match[1].length > 0)
						{
							var tenthous = match[2];
							tenthous.replaceAll("M", "I");
							romantotal += romanMap[tenthous]*1000;
						}
						if(match[2].length > 0)
						{
							var thousands = match[2];
							thousands = thousands.replaceAll ("C", "I");
							thousands = thousands.replaceAll("D", "V");
							thousands = thousands.replaceAll("M", "X");
							romantotal += romanMap[thousands]*100;
						}
						if(match[3].length > 0)
						{
							var hundreds = match[3];
							hundreds = hundreds.replaceAll("X", "I");
							hundreds = hundreds.replaceAll("L", "V");
							romantotal += romanMap[hundreds]*10;

						}
						if(match[4].length > 0)
						{
							console.log(romanMap[match[4]]);
							romantotal += romanMap[match[4]];
						}
					}
					if(romantotal != 0)
					{
						outputarea.value += romantotal.toString() + "*";
						total *= romantotal;
					}
				}
				outputarea.value += " = roman total:" + total.toString() + "\n";
			}
		</script>
	</body>
</html>